---
show: step
version: 1.0
enable_checker: true
---

# æ–‡ç”Ÿå›¾æ¨¡å‹è°ƒç”¨

## å‡†å¤‡å·¥ä½œ

- é¦–å…ˆè¦æ³¨å†Œé­”æ­ç¤¾åŒº
	- http://modelscope.cn

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/3584/labs/4212326/uid1190679-20250916-1757992179107) 

- æ³¨æ„ï¼
	- é­”æ­ç¤¾åŒº 
	- è¦ é˜¿é‡Œäº‘ç®—åŠ›
	- å¾— æˆæƒ

### é€‰æ‹©æ¨¡å‹

- ç‚¹å‡» æ¨¡å‹åº“
	- æ–‡ç”Ÿæ–‡
	- ç­›é€‰ æ”¯æŒä½“éªŒ 
		- `API-inference`

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/3584/labs/4213420/uid1190679-20250916-1758019712260) 

- å•è¯è§£é‡Š
> API
	>> Application Programming Interface
		>>> åº”ç”¨ç¨‹åºæ¥å£

> inference
	>> æ¨ç†
	>>> å¯ä»¥ç›´æ¥åœ¨æœåŠ¡å™¨ `äº‘ç«¯æ¨ç†`

- æ¨¡å‹å¥½å¤šå•Š
	- é€‰å“ªä¸ªå‘¢ï¼Ÿ

### Instruct

- é€‰æ‹©Instruct
	- å¿«é—®å¿«ç­”
	- è¨€ç®€æ„èµ…

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/3584/labs/4213420/uid1190679-20250920-1758334067066) 

- https://modelscope.cn/models/Qwen/Qwen3-Next-80B-A3B-Instruct

### åœ¨çº¿ä½“éªŒ

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/3584/labs/4213420/uid1190679-20251012-1760233869018) 

- æˆ‘ä»¬ å¯ä»¥è°ƒç”¨ä»–
	- åšä¸ª è‡ªå·±çš„ å®¢æœæœºå™¨äºº å—ï¼Ÿ

### æ‰¾åˆ°ä»£ç 

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/3584/labs/4213420/uid1190679-20250916-1758020016695) 

- æ‰¾åˆ°åå¯ä»¥å¤åˆ¶ä»£ç 

### è§‚å¯Ÿä»£ç 

- æ³¨æ„ç¬¬å››è¡Œ 
	- å‡ºç°äº† api-key

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/3584/labs/4213420/uid1190679-20250929-1759151929760) 

- å¦‚ä½•æŸ¥çœ‹ è‡ªå·±çš„`api-key`å‘¢ï¼ŸğŸ¤”

### è·å¾—api-key

- é­”æ­ç¤¾åŒºä¸­çš„ä»£ç  
	- å·²ç»è‡ªåŠ¨è®¾ç½®å¥½ä½ çš„api-key 
	- å¯ä»¥ç›´æ¥ä½¿ç”¨

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/3584/labs/4213420/uid1190679-20250917-1758108640857) 


- âš ï¸ä»£ç ä¸­çš„ `api-key`
	- æ˜¯æ ¹æ®ä½ çš„ç”¨æˆ·ä¿¡æ¯ç”Ÿæˆçš„

### ä»£ç 

```
from openai import OpenAI

client = OpenAI(
    base_url='https://api-inference.modelscope.cn/v1',
    api_key = "ms-81c1f87a-fa0a-4edc-a4a5-4bc7ba3cbbba" # ModelScope Token
)

response = client.chat.completions.create(
    model='Qwen/Qwen3-Next-80B-A3B-Instruct', # ModelScope Model-Id
    messages=[
        {
            'role': 'system',
            'content': 'You are a helpful assistant.'
        },
        {
            'role': 'user',
            'content': 'ä½ å¥½'
        }
    ],
    stream=True
)

for chunk in response:
    print(chunk.choices[0].delta.content, end='', flush=True)

```


### è¿è¡Œç»“æœ

- å‘Šè¯‰æˆ‘ä»¬æ²¡æœ‰
	- openai è¿™ä¸ª
	- ç±»åº“(Module)

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/3584/labs/4213420/uid1190679-20250916-1758025431179) 

- é‚£å°±å®‰è£…è¿™ä¸ªæ¨¡å—

```
pip install openai
```

### å°è¯•è¿è¡Œ

- å¦‚æœæŠ¥401é”™è¯¯çš„è¯ 
	- éœ€è¦ç¡®è®¤æ˜¯å¦é˜¿é‡Œäº‘å·²ç»æˆæƒ

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/3584/labs/4213420/uid1190679-20250920-1758331746268) 

- è¿™å›æ­£ç¡®è¿è¡Œäº†

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/3584/labs/4213420/uid1190679-20250916-1758025536023)

- å¯ä»¥è¯´ç‚¹åˆ«çš„å—ï¼Ÿ

### æ‰¾åˆ°ä½ç½®

- åŸæ¥
	- é—®çš„å°±æ˜¯ä½ å¥½

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/3584/labs/4213420/uid1190679-20250916-1758027783325) 

- æ”¹è¿™é‡Œå°±è¡Œäº†

### ä¿®æ”¹æç¤ºè¯

```
å¦‚ä½•è¯„ä»·ä¸‰å›½æ¼”ä¹‰
```

- ä¿®æ”¹å
	- ç­”æ¡ˆä¹Ÿéšä¹‹æ”¹å˜

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/3584/labs/4213420/uid1190679-20250916-1758028036592) 

### æ€»ç»“

- è¿™æ¬¡ä½¿ç”¨ é­”æ­ç¤¾åŒºçš„api	
	- æ„å»ºäº† æ–‡ç”Ÿæ–‡çš„åº”ç”¨

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/3584/labs/4213420/uid1190679-20250916-1758029609852) 

- ä½†æ˜¯ æå‡ºçš„é—®é¢˜
	- ç°åœ¨æ˜¯å†™æ­»çš„
	- å¦‚ä½• å®æ—¶åŠ¨æ€ è¾“å…¥é—®é¢˜å‘¢ï¼ŸğŸ¤”
- ä¸‹æ¬¡å†è¯´ğŸ‘‹