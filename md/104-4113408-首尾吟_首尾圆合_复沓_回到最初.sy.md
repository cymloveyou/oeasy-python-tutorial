---
show: step
version: 1.0
enable_checker: true
---

#  å›ç¯è¯—_æ—‹å¾‹æ¨¡è¿›_å¼€å—“éŸ³é¢‘ç”Ÿæˆ_sequence 

## å›å¿†

- ä¸Šæ¬¡ç”Ÿæˆäº† å‡åˆ° HighC çš„ å¼€å—“mid

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/3584/labs/4074186/uid1190679-20250508-1746715111334) 

- è¿™å¾ˆåƒ è¡”å°¾è›‡

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/3584/labs/4079042/uid1190679-20250719-1752888506992) 

- ç»•äº†ä¸€åœˆ åˆå›åˆ°äº†åŸç‚¹
- è¯—æ­Œ é‡Œé¢ä¹Ÿæœ‰è¿™ç§ è¡”å°¾è›‡ å—ï¼ŸğŸ¤”

### é¦–å°¾åŸ

- é‚µé›ã€Šé¦–å°¾åŸã€‹
	- å°§å¤«éæ˜¯çˆ±åŸè¯—
	- è¯—æ˜¯å°§å¤«æœè€æ—¶
	- ç®€å°ºæ¯ç§°æ—ä¸‹å£«
	- è¿‡ä»æˆ–è‘—é“å®¶è¡£
	- é¡»å°†è´¤æ°åŒæ˜Ÿæ±‰
	- ç›´æŠŠèº«å¿ƒæ¯”é¹¿éº‹
	- å…­åäº”å¹´æ— äº‹å®¢
	- å°§å¤«éæ˜¯çˆ±åŸè¯—

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/3584/labs/4113408/uid1190679-20250719-1752889744357) 

- ã€Šé¦–å°¾åŸã€‹
	- å…±135é¦–
	- å‡ä»¥â€œå°§å¤«éæ˜¯çˆ±åŸè¯—

### å’Œ

- ç¨‹é¢¢ å’Œè¯—
	- é¦–å°¾æ”¹ä¸º
	- å…ˆç”Ÿéæ˜¯çˆ±åŸè¯—

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20250719-1752889963820)

- ã€Šå’Œå°§å¤«é¦–å°¾åŸã€‹
	- å…ˆç”Ÿéæ˜¯çˆ±åŸè¯—
	- ä¸ºè¦å½¢å®¹è‡³ä¹æ—¶
	- é†‰é‡Œä¹¾å¤éƒ½å¯“ç‰©
	- é–’æ¥é£æœˆæ›´è¾“è°
	- æ­»ç”Ÿæœ‰å‘½äººä½•é¢„
	- æ¶ˆé•¿éšæ—¶æˆ‘ä¸æ‚²
	- ç›´å¯¹å¸Œå¤·æ— äº‹å¤„
	- å…ˆç”Ÿéæ˜¯çˆ±åŸè¯—

### é¦–å°¾åŸ

- æ–¹å²³ã€Šæ¬¡éŸµæ¢æ¢…é¦–å°¾åŸã€‹
	- ä¸‰èŠ±äº”è•ŠæŠŠæ˜¥æ¥
	- ç¼Ÿè¢‚è°å°†ç‰å°ºè£
	- ä¸–å¤–é£çƒŸç”˜å¯‚å¯
	- èƒ¸ä¸­å†°é›ªè‡ªå´”åµ¬
	- æå£¶ä¸œé˜è¯—ä»åœ¨
	- æ£€ç‚¹å—ææš–ç‹¬å›
	- å·²åŠè—¤æºªæ³»å¯’æœˆ
	- ä¸‰èŠ±äº”è•ŠæŠŠæ˜¥æ¥

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20250719-1752890092285)

- é¦–å°¾å‡ä¸º
	- ä¸‰èŠ±äº”è•ŠæŠŠæ˜¥æ¥

### è‹è½¼ç»ç¬”

> åºå±±çƒŸé›¨æµ™æ±Ÿæ½®ï¼Œæœªåˆ°åƒèˆ¬æ¨ä¸æ¶ˆã€‚
> åˆ°å¾—è¿˜æ¥åˆ«æ— äº‹ï¼Œåºå±±çƒŸé›¨æµ™æ±Ÿæ½®ã€‚

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/3584/labs/4113408/uid1190679-20250719-1752890293184) 

- å¯ä»¥è®©aiå¸®æˆ‘ä»¬å†™ä¸ªé¦–å°¾åŸå—ï¼Ÿ

### æé—®

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/3584/labs/4113408/uid1190679-20250719-1752890913490) 

- éŸ³ä¹é¢†åŸŸ ä¹Ÿæœ‰ç±»ä¼¼çš„ä¾‹å­å—ï¼Ÿ

### å†æé—®

- å…¶å®æˆ‘ä»¬ç†Ÿæ‚‰çš„å°æ˜Ÿæ˜Ÿ
	- ä¹Ÿæœ‰è¿™ç§ é¦–å°¾å‘¼åº”çš„æ„Ÿè§‰

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/3584/labs/4113408/uid1190679-20250719-1752891073831)

- è¿™ç§é‡å¤æ€§çš„ èŠ‚å¥æ„Ÿ
	- åœ¨ è„±å£ç§€é‡Œé¢ å«åš callback

- è¿˜æœ‰å…¶ä»– è‰ºæœ¯å½¢å¼ ä¹Ÿæœ‰ è¿™ç§ é¦–å°¾åŸ å—ï¼Ÿ

### ç”µå½±

- é¦–ä½é—­ç¯

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/3584/labs/4113408/uid1190679-20250719-1752891257404) 

- å¯ä»¥åšä¸ªæ›²å­å—ï¼Ÿ

### æ›²è°±

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/3584/labs/4113408/uid1190679-20250719-1752892116692) 

### æ•ˆæœ

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/3584/labs/4113408/uid1190679-20250719-1752892071469) 

```
import mido
from mido import MidiFile, MidiTrack, Message

def generate_7char_é¦–å°¾åŸ_midi(filename="æ™šæ™´_é¦–å°¾åŸ.mid"):
    # èŠ‚å¥è§„åˆ™ï¼š
    # æ¯å¥7å­—ï¼Œæ¯å­—å¯¹åº”1ä¸ªå››åˆ†éŸ³ç¬¦ï¼ˆ480 ticksï¼‰
    # å¥æœ«éŸµè„šåç©º1ä¸ªå››åˆ†éŸ³ç¬¦ï¼ˆ480 ticksï¼‰ï¼Œå³æ¯å¥æ€»æ—¶é•¿ï¼š7Ã—1 + 1 = 8æ‹ï¼ˆ2å°èŠ‚4/4æ‹ï¼‰
    # é€Ÿåº¦120 BPMï¼ˆæ¯æ‹480 ticksï¼‰
    
    # æ—‹å¾‹éŸ³é«˜è®¾è®¡ï¼ˆCå¤§è°ƒï¼Œé¦–å¥ä¸æœ«å¥å®Œå…¨ç›¸åŒï¼‰
    # éŸ³é«˜å¯¹åº”ï¼š60=C4, 62=D4, 64=E4, 65=F4, 67=G4, 69=A4, 71=B4, 72=C5
    melody = [
        # é¦–å¥ï¼šéœ(60) é“º(62) è¿œ(64) å²«(65) æŸ“(67) å¤©(69) çº¢(71) â†’ éŸµè„šåç©º480ticks
        [(60, 480), (62, 480), (64, 480), (65, 480), (67, 480), (69, 480), (71, 480)],
        # æ¬¡å¥ï¼šè‰(69) æ›³(67) æ®‹(65) å£°(64) å…¥(62) æ™š(60) é£(62) â†’ éŸµè„šåç©º480ticks
        [(69, 480), (67, 480), (65, 480), (64, 480), (62, 480), (60, 480), (62, 480)],
        # ä¸‰å¥ï¼šç‹¬(64) å€š(65) é˜‘(67) å¹²(69) å‡(71) æœ›(72) ä¹…(71) â†’ éŸµè„šåç©º480ticks
        [(64, 480), (65, 480), (67, 480), (69, 480), (71, 480), (72, 480), (71, 480)],
        # æœ«å¥ï¼šä¸é¦–å¥å®Œå…¨ç›¸åŒï¼ˆé¦–å°¾åŸï¼‰
        [(60, 480), (62, 480), (64, 480), (65, 480), (67, 480), (69, 480), (71, 480)]
    ]
    
    # åˆ›å»ºMIDIæ–‡ä»¶
    mid = MidiFile(type=0)
    track = MidiTrack()
    mid.tracks.append(track)
    
    # åˆå§‹åŒ–ï¼š4/4æ‹ï¼Œé€Ÿåº¦120 BPM
    track.append(mido.MetaMessage('set_tempo', tempo=500000, time=0))  # 120 BPMå¯¹åº”å¾®ç§’/æ‹
    track.append(mido.MetaMessage('time_signature', numerator=4, denominator=4, time=0))
    track.append(mido.MetaMessage('key_signature', key='C', time=0))  # Cå¤§è°ƒ
    
    # æ·»åŠ éŸ³ç¬¦åˆ°è½¨é“
    def add_note(pitch, duration):
        track.append(Message('note_on', note=pitch, velocity=70, time=0))  # éŸ³ç¬¦å¼€å§‹
        track.append(Message('note_off', note=pitch, velocity=70, time=duration))  # éŸ³ç¬¦ç»“æŸ
    
    # ä¾æ¬¡ç”Ÿæˆå››å¥æ—‹å¾‹ï¼Œå¥æœ«åŠ åœé¡¿
    for line in melody:
        # æ·»åŠ å¥ä¸­7ä¸ªéŸ³ç¬¦ï¼ˆæ¯å­—1ä¸ªå››åˆ†éŸ³ç¬¦ï¼‰
        for pitch, dur in line:
            add_note(pitch, dur)
        # å¥æœ«åœé¡¿ï¼š1ä¸ªå››åˆ†éŸ³ç¬¦ï¼ˆ480 ticksï¼‰
        track.append(Message('note_off', note=0, velocity=0, time=480))
    
    # ä¿å­˜MIDIæ–‡ä»¶
    mid.save(filename)
    print(f"å·²ç”Ÿæˆç¬¦åˆè¦æ±‚çš„MIDIï¼š{filename}")

if __name__ == "__main__":
    generate_7char_é¦–å°¾åŸ_midi()
```

### æ€»ç»“ğŸ¤”

- é¦–å°¾åŸ ä¸ƒä¸ªå­— 
	- æ­£å¥½æ˜¯ å¤§è°ƒä¸ƒä¸ªéŸ³é˜¶
- å›å¿†èµ· ä¸Šæ¬¡
	- å‡åˆ° HighC çš„ å¼€å—“mid

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/3584/labs/4074186/uid1190679-20250508-1746715111334) 

- æœ‰ç‚¹åƒ éª¨ç‰Œ

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/3584/labs/4079042/uid1190679-20250514-1747185453953) 

- æ–‡å­— ä¹Ÿå¯ä»¥ å±‚å±‚é€’è¿› å—ï¼Ÿ
- ä¸‹æ¬¡å†è¯´ ğŸ‘‹
